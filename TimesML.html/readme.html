

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TimesML &mdash; TimesML 0.0.7 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Indices and tables" href="indices.html" />
    <link rel="prev" title="Welcome to TimesML’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> TimesML
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">TimesML</a></li>
<li class="toctree-l1"><a class="reference internal" href="#about">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="#timesml-github">TimesML (github)</a></li>
<li class="toctree-l1"><a class="reference internal" href="#timesml-pypi">TimesML (PyPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#list-of-module">List of module</a></li>
<li class="toctree-l1"><a class="reference internal" href="#math">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="#timeseriesanalysis">TimeSeriesAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="#simple-example">Simple example</a></li>
<li class="toctree-l1"><a class="reference internal" href="#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="#mit-license">MIT License</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="docstring/Math.html">Math package</a></li>
<li class="toctree-l1"><a class="reference internal" href="docstring/TimeSeriesAnalysis.html">TimeSeriesAnalysis package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TimesML</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>TimesML</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/readme.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="timesml">
<h1>TimesML<a class="headerlink" href="#timesml" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="about">
<h1>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h1>
<p>This package was developed for time series data analysis and machine learning tasks. The aim of TimesML is to provide high-level APIs that developers and data scientists can easily model their times series data. We plan to support more machine learning models in the future. Thank you for your support, please star⭐ this project if you like.</p>
</div>
<div class="section" id="timesml-github">
<h1>TimesML (github)<a class="headerlink" href="#timesml-github" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/leodflag/TimesML">https://github.com/leodflag/TimesML</a></p>
</div>
<div class="section" id="timesml-pypi">
<h1>TimesML (PyPI)<a class="headerlink" href="#timesml-pypi" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://pypi.org/project/TimesML/">https://pypi.org/project/TimesML/</a></p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">TimesML</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="list-of-module">
<h1>List of module<a class="headerlink" href="#list-of-module" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="math">
<h1>Math<a class="headerlink" href="#math" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p>Statistics</p>
<blockquote>
<div><ul>
<li><p>This module contains statistics calculation function.</p>
<blockquote>
<div><p>ex. mean_square_error、coefficient_of_determination、 ACF</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="timeseriesanalysis">
<h1>TimeSeriesAnalysis<a class="headerlink" href="#timeseriesanalysis" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p>Chart</p>
<blockquote>
<div><ul>
<li><p>Time series data related drawing function.</p>
<blockquote>
<div><p>ex. statistics_infographic、ACF_chart、forecast_result_group_chart</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Model</p>
<blockquote>
<div><ul>
<li><p>This module contains time series models for forecasting.</p>
<blockquote>
<div><p>ex. AutoRegressive、SimpleMovingAverage</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>ProcessData</p>
<blockquote>
<div><ul>
<li><p>This module contains the access and processing methods of time series data.</p>
<blockquote>
<div><p>ex. get_data_yahoo、n_order_difference_data、split_data</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="simple-example">
<h1>Simple example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">TimeSeriesAnalysis.ProcessData</span> <span class="k">as</span> <span class="nn">Data</span>
<span class="kn">import</span> <span class="nn">TimeSeriesAnalysis.Model</span> <span class="k">as</span> <span class="nn">Model</span>
<span class="kn">import</span> <span class="nn">TimeSeriesAnalysis.Chart</span> <span class="k">as</span> <span class="nn">Chart</span>

<span class="c1"># setting parameters</span>
<span class="n">save_path</span> <span class="o">=</span> <span class="s1">&#39;US&#39;</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">Chart</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">)</span>

<span class="c1"># read data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;test_data/g20_new_c.csv&#39;</span><span class="p">,</span> <span class="n">col_name</span><span class="o">=</span><span class="s1">&#39;US&#39;</span><span class="p">)</span>

<span class="c1"># contains basic statistics: historocal trend line chart、lag plot、ACF chart. figure 1.</span>
<span class="n">chart</span><span class="o">.</span><span class="n">statistics_infographic</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="n">save_path</span><span class="p">,</span> <span class="n">lags</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;population&#39;</span><span class="p">)</span>

<span class="c1"># split data into training set and test set</span>
<span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">split_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ratio</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># autoRegressive</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">AutoRegressive</span><span class="p">(</span><span class="n">lags</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">pure_test_set_predict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">model1</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">AutoRegressive</span><span class="p">(</span><span class="n">lags</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">model1</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train</span><span class="p">)</span>
<span class="n">model1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test</span><span class="p">,</span><span class="n">pure_test_set_predict</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># Save data</span>
<span class="n">Data</span><span class="o">.</span><span class="n">save_flie</span><span class="p">(</span><span class="n">model1</span><span class="o">.</span><span class="n">test_predict</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">save_path</span><span class="p">,</span> <span class="n">stock_id</span><span class="o">=</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s1">&#39;csv&#39;</span><span class="p">)</span>

<span class="c1"># Combine and compare the prediction results of the two models. figure 2.</span>
<span class="n">chart</span><span class="o">.</span><span class="n">forecast_result_group_chart</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">model1</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="n">save_path</span><span class="p">,</span>
<span class="n">model_1_name</span><span class="o">=</span><span class="s1">&#39;AR(2)&#39;</span><span class="p">,</span> <span class="n">model_2_name</span><span class="o">=</span><span class="s1">&#39;AR(20)&#39;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;population&#39;</span><span class="p">)</span>

<span class="c1"># simple moving average</span>
<span class="n">model2</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">SimpleMovingAverage</span><span class="p">(</span><span class="n">windows</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">model2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># line chart to observe the average situation every five days. figure 3.</span>
<span class="n">chart</span><span class="o">.</span><span class="n">line_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">model2</span><span class="o">.</span><span class="n">sma_result</span><span class="p">,</span> <span class="n">chart_title</span><span class="o">=</span><span class="s1">&#39;SMA(5)&#39;</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="n">save_path</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p>Test data set : g20_new_c.csv</p>
<blockquote>
<div><ul class="simple">
<li><p>Dong E, Du H, Gardner L. An interactive web-based dashboard to track COVID-19 in real time. Lancet Inf Dis. 20(5):533-534. doi: 10.1016/S1473-3099(20)30120-1</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Use requests crawl yahoo finance stock price</p>
<blockquote>
<div><ul class="simple">
<li><p>FinLab. 超簡單台股每日爬蟲教學. Retrieved July 22, 2020, from <a class="reference external" href="https://www.finlab.tw">https://www.finlab.tw</a>/超簡單台股每日爬蟲教學</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="mit-license">
<h1>MIT License<a class="headerlink" href="#mit-license" title="Permalink to this headline">¶</a></h1>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indices.html" class="btn btn-neutral float-right" title="Indices and tables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to TimesML’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, leodflag

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>